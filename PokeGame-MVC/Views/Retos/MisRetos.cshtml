@model IEnumerable<PokeGame_MVC.Models.RetoModel>

<h2>Mis Retos Pendientes</h2>
<table>
    <thead>
        <tr>
            <th>Retador</th>
            <th>Fecha de Envío</th>
            <th>Selecciona tu Pokémon</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var reto in Model)
        {
            <tr>
                <td>@reto.Retador.Username</td>
                <td>@reto.FechaEnvio.ToString("g")</td>
                <td colspan="2">
                    <!-- Todo el formulario está contenido dentro de una única celda -->
                    <form method="post" asp-action="ResponderReto" asp-route-retoId="@reto.RetoId">
                        <select name="PokemonId" required>
                            @foreach (var pokemon in reto.PokemonesDipobibles)
                            {
                                <option value="@pokemon.Id">@pokemon.Name</option>
                            }
                        </select>
                        <!-- Botones para aceptar o rechazar el reto -->
                        <button type="submit" name="respuesta" value="Aceptado">Aceptar</button>
                        <button type="submit" name="respuesta" value="Rechazado">Rechazar</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
